pipeline {
    agent any
    stages {
        stage('Continuous Download-loans') {
            steps {
                script
                {
                    try
                    {
                        git branch: 'main', url: 'https://github.com/Praveen7608/Maven22.git'   
                    }
                    catch (Exception e1)
                    {
                        mail bcc: '', body: 'got download fail', cc: '', from: '', replyTo: '', subject: 'jenkins failed to perform download activity', to: 'praveenranjith782@gmail.com'
                        exit(1)
                    }
                }
                
            }
        }
        stage('Continuous build-loans') {
            steps {
                   script
                {
                    try
                    {
                        sh 'mvn package'   
                    }
                    catch (Exception e2)
                    {
                        mail bcc: '', body: 'got build fail', cc: '', from: '', replyTo: '', subject: 'jenkins failed to perform build activity', to: 'developer@gmail.com'
                        exit(1)
                    }
                }
                
            }
        }
   }

}
